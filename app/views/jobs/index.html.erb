<%= provide(:title, 'Jobs List') %>
<p id="notice"><%= notice %></p>

<h1>Jobs</h1>

<!-- Search bar courtesy of http://www.rymcmahon.com/articles/2 -->

<%= form_tag(jobs_path, :method => 'get', id: 'search-form') do %>
	<%= text_field_tag :search, params[:search], placeholder: 'Search Jobs' %>
	<%= submit_tag 'Search', :name => nil %>
<% end %>

<button><%= link_to 'Add Job', new_job_path %>
</button><br>
&nbsp;

<%= will_paginate %>

<% if @jobs.blank? %>
	<h4>There are no jobs containing &quot;<%= params[:search]%>&quot;.</h4>
<% end %>

<table class="table table-striped">
  <thead>
    <tr>
      <th><%= sortable 'last_name', 'Last Name' %></th>
      <th><%= sortable 'first_name', 'First Name' %></th>
      <th><%= sortable 'subject' %></th>
      <th><%= sortable 'person_type', 'Person Type' %></th>
      <th><%= sortable 'research_use', 'Research Use' %></th>
      <th><%= sortable 'start_date', 'Date Started' %></th>
      <th><%= sortable 'complete' %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @jobs.each do |job| %>
      <tr>
        <td><%= job.last_name %></td>
        <td><%= job.first_name %></td>
        <td><%= job.subject %></td>
        <td><%= job.person_type %></td>
        <td><%= job.research_use %></td>
        <td><%= job.start_date %></td>
   		<% if job.complete? %>
   			<td>Completed</td>
   		<% else %>
   			<td>Incomplete</td>
   		<% end %>
        <td><%= link_to 'Show', job %></td>
        <td><%= link_to 'Edit', edit_job_path(job) %></td>
        <td><%= link_to 'Destroy', job, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>


<br>
